export default function decorate(block) {
  const wrapper = block;
  const loginChildren = Array.from(block.children);

  // Simple auth functions
  function isAuthenticated() {
    return sessionStorage.getItem('isAuthenticated') === 'true';
  }

  function setAuthenticated(status) {
    if (status) {
      sessionStorage.setItem('isAuthenticated', 'true');
      sessionStorage.setItem('authTimestamp', Date.now().toString());
    } else {
      sessionStorage.removeItem('isAuthenticated');
      sessionStorage.removeItem('authTimestamp');
    }
  }

  function getRedirectUrl() {
    // Check for stored referrer first
    const storedReferrer = sessionStorage.getItem('loginReferrer');
    if (storedReferrer) {
      sessionStorage.removeItem('loginReferrer');
      return storedReferrer;
    }

    // Use document.referrer if available and not login page
    if (document.referrer && 
        document.referrer !== window.location.href && 
        !document.referrer.includes('/login')) {
      return document.referrer;
    }

    // Fallback to /aboutus
    return '/aboutus';
  }

  function storeReferrer() {
    // Store current referrer if not already on login page
    if (document.referrer && !document.referrer.includes('/login')) {
      sessionStorage.setItem('loginReferrer', document.referrer);
    }
  }

  // Check if already authenticated
  if (isAuthenticated()) {
    const redirectUrl = getRedirectUrl();
    window.location.href = redirectUrl;
    return;
  }

  // Store referrer for later use
  storeReferrer();

  // Hide header and footer when login loads
  function hideHeaderFooter() {
    const header = document.querySelector('header');
    const footer = document.querySelector('footer');
    
    if (header) {
      header.style.display = 'none';
      header.setAttribute('data-login-hidden', 'true');
    }
    
    if (footer) {
      footer.style.display = 'none';
      footer.setAttribute('data-login-hidden', 'true');
    }
  }

  // Show header and footer when leaving login
  function showHeaderFooter() {
    const header = document.querySelector('header[data-login-hidden="true"]');
    const footer = document.querySelector('footer[data-login-hidden="true"]');
    
    if (header) {
      header.style.display = '';
      header.removeAttribute('data-login-hidden');
    }
    
    if (footer) {
      footer.style.display = '';
      footer.removeAttribute('data-login-hidden');
    }
  }

  // Hide header and footer immediately
  hideHeaderFooter();

  // Show header and footer when page is about to unload
  window.addEventListener('beforeunload', showHeaderFooter);

  // Create container with responsive classes
  const container = document.createElement('div');
  container.className = 'container';

  const row = document.createElement('div');
  row.className = 'row';

  // Center the login form
  const col = document.createElement('div');
  col.className = 'col-xl-12 col-md-8 col-sm-4';

  // Create login form container
  const loginContainer = document.createElement('div');
  loginContainer.className = 'login-container';

  // Get title and description from the block content
  const descriptionText = loginChildren[1]?.children[0]?.textContent?.trim() || 'Please enter your credentials';

  // Create title with logo instead of text
  const title = document.createElement('div');
  title.className = 'login-title';
  
  // Create SVG icon directly
  title.innerHTML = `
        <svg width="168" height="50" viewBox="0 0 168 50" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_62_843)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M35.3574 43.5444C36.048 44.7637 36.8215 45.982 37.6779 47.1992L33.703 50C32.6831 48.5393 31.7651 47.0754 30.949 45.6084C28.6795 46.4054 26.3622 46.8278 23.8472 46.8278C21.2813 46.8278 18.897 46.3451 16.567 45.548C15.753 47.0088 14.8128 48.4927 13.746 50L9.77117 47.1992C10.6722 45.9355 11.4882 44.6938 12.2192 43.4745C6.04176 39.575 2 32.8146 2 25.073C2 17.5757 5.79633 10.9359 11.6072 7.03331C10.4437 5.20744 9.5831 4.17542 9.52573 4.17542L13.2647 1C13.3221 1.13019 14.4855 2.40672 15.955 4.78511C18.403 3.81026 21.0359 3.2609 23.8472 3.2609C26.5981 3.2609 29.1736 3.81026 31.6216 4.72478C33.0304 2.40672 34.194 1.06986 34.2545 1L37.9233 4.17542C37.9233 4.17542 37.0659 5.20744 35.9694 6.91582C40.6168 10.0214 43.9892 14.8354 45.2131 20.4463H39.8868C38.8413 16.7914 36.524 13.616 33.5246 11.4853C32.7245 13.1364 32.0551 15.0227 31.443 17.0963C30.9097 19.0862 30.5612 21.0771 30.3975 23.0692H33.3971C33.5819 20.386 34.1939 17.5757 35.606 15.0798C35.606 15.0798 36.7599 15.934 38.6055 20.3288C38.6055 20.3288 36.8874 25.1332 38.4173 31.1062C38.4173 31.1062 37.0053 33.7291 35.1119 35.9202C35.1119 35.9202 33.8879 32.5701 33.4544 28.061H30.337C30.5814 31.7615 31.4793 35.4195 33.0304 39.0353C36.8299 36.5298 39.4533 32.6273 40.3108 28.061H38.9688V23.0692H45.5766C45.6573 23.717 45.6977 24.3849 45.6977 25.073C45.6977 32.8749 41.5348 39.7021 35.3574 43.5444ZM14.4281 38.9654C16.0198 35.3496 16.9367 31.7148 17.1789 28.061H14.052C13.628 32.5701 12.3467 35.9202 12.3467 35.9202C10.5107 33.7291 9.10178 31.1062 9.10178 31.1062C10.5712 25.1332 8.91372 20.3288 8.91372 20.3288C10.6892 15.934 11.9132 15.0798 11.9132 15.0798C13.2647 17.5757 13.9341 20.386 14.1222 23.0692H17.1216C16.9559 21.0771 16.5871 19.0862 16.0155 17.0963C15.464 15.0227 14.7341 13.1937 13.9947 11.5424C9.77117 14.6004 7.02034 19.5318 7.02034 25.1332C7.02034 30.9283 9.95923 35.9805 14.4281 38.9654ZM28.6795 41.0993C24.2807 30.8617 25.0712 21.9673 26.8467 15.5721C27.4587 13.2539 28.3161 11.1201 29.1162 9.29421C27.4587 8.74487 25.6832 8.44002 23.7899 8.44002C21.8933 8.44002 20.0604 8.74487 18.3424 9.29421C19.203 11.1201 19.9904 13.2539 20.6725 15.5721C22.4383 21.9673 23.2352 30.8617 18.8269 41.0993C20.4238 41.5311 22.0718 41.836 23.7899 41.836C25.5048 41.836 27.0922 41.5883 28.6795 41.0993Z" fill="#CF2227"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M92.4401 13.1371V24.8597H90.7005V11.9817C90.7005 10.3283 90.6051 8.50523 90.6051 8.50523H93.1402L103.323 19.5072V8.50523H105.073V24.8597H104.585C103.61 24.8597 102.464 23.8846 101.414 22.8247M74.0366 19.3376C74.0366 25.3474 72.5197 25.1989 65.6992 25.2201C59.2289 25.2519 55.3042 21.7012 55.3042 15.9988C55.3042 15.702 55.3254 15.4053 55.3466 15.1191C55.6118 9.63935 59.441 7.31813 63.1324 6.59738C63.7263 6.4596 64.3415 6.37481 64.9461 6.34301C65.1795 6.32181 65.328 6.32181 65.5507 6.32181H65.6675C65.8902 6.31121 66.1342 6.30061 66.4311 6.30061C70.7589 6.30061 73.6335 7.82689 73.6335 7.82689L73.3259 9.74534C72.6152 9.18358 69.6452 8.04948 66.0494 8.04948C61.2231 8.28265 59.8759 11.102 59.5577 14.9284C59.5365 15.2145 59.5259 15.5112 59.5259 15.808C59.5259 20.7367 62.1671 23.4606 65.6992 23.4606C69.6664 23.4606 69.7407 23.1215 69.7407 18.9772V17.0164C69.7407 16.603 69.4224 16.3062 68.3829 16.3062H65.7523V14.5149L74.0366 14.5256V19.3376ZM166.033 19.6661C166.033 25.3472 164.591 25.2095 158.141 25.2307C152.011 25.2519 148.298 21.9025 148.298 16.497C148.298 16.2144 148.312 15.9388 148.34 15.6703C148.594 10.4767 152.212 8.28265 155.712 7.5937C156.275 7.46652 156.858 7.38172 157.43 7.34993C157.642 7.33933 157.781 7.32873 158.004 7.32873H158.11C158.322 7.31813 158.555 7.31813 158.831 7.31813C162.925 7.31813 165.652 8.75961 165.652 8.75961L165.355 10.5721C164.686 10.0421 161.876 8.96099 158.47 8.96099C153.909 9.19418 152.625 11.8652 152.329 15.4795C152.308 15.748 152.3 16.0271 152.308 16.3169C152.308 20.9805 154.79 23.5561 158.152 23.5561C161.896 23.5561 161.97 23.2381 161.97 19.3164C161.97 19.2422 161.96 17.5251 161.96 17.4615C161.96 17.0588 161.673 16.7832 160.676 16.7832H158.194V15.0873L166.044 15.0979C166.033 15.0979 166.033 19.327 166.033 19.6661ZM107.81 8.49463H120.793V10.0951H116.221V24.8597H112.381V10.0845H107.81V8.49463ZM123.562 8.49463H127.402V24.8492H123.562V8.49463ZM77.5794 8.49463H86.9774V10.0845H81.5359V15.4583H86.9774V17.0481H81.5359V22.4961H81.5465C81.5465 22.8353 81.5147 23.2699 81.9602 23.2699H86.9774V24.8597H79.1175C77.7067 24.8597 77.696 23.8105 77.696 22.4855V11.8864C77.6855 10.1057 77.5794 8.49463 77.5794 8.49463ZM133.172 13.1371V24.8597H131.433V11.9817C131.433 10.3283 131.337 8.49463 131.337 8.49463H133.872L144.054 19.5072V8.49463H145.805V24.8597H145.317C144.341 24.8597 143.196 23.8846 142.146 22.8247L133.172 13.1371ZM152.933 33.7418H157.855V34.5792H155.012V37.3774H157.855V38.2146H155.012V41.0658C155.012 41.2354 155.002 41.4687 155.224 41.4687H157.855V42.2954H153.739C152.997 42.2954 152.997 41.7548 152.997 41.0658V35.5225C152.997 34.5792 152.933 33.7418 152.933 33.7418ZM101.838 39.6668C101.838 42.4862 101.117 42.4119 97.9134 42.4226C94.8691 42.4438 93.0235 40.769 93.0235 38.0875C93.0235 37.9497 93.0341 37.8119 93.0447 37.6742C93.172 35.0986 94.9647 34.0068 96.7042 33.6677C96.9906 33.5934 97.2771 33.5617 97.5634 33.5405C97.6695 33.5405 97.7332 33.5298 97.8498 33.5298C97.9453 33.5298 98.1256 33.5298 98.2529 33.5298C100.289 33.5298 101.647 34.24 101.647 34.24L101.499 35.141C101.17 34.8759 99.7698 34.346 98.0726 34.346C95.8026 34.452 95.1768 35.7874 95.0177 37.5787C95.0071 37.7166 95.0071 37.8543 95.0071 37.9921C95.0071 40.3133 96.2482 41.5959 97.9134 41.5959C99.7803 41.5959 99.8122 41.4368 99.8122 39.4866V38.5645C99.8122 38.363 99.6742 38.2253 99.1757 38.2253H97.9453V37.3879H101.838C101.838 37.3879 101.838 39.4972 101.838 39.6668ZM127.593 38.1617C127.593 36.7096 128.038 35.5755 128.919 34.7488C129.802 33.922 131.023 33.5086 132.578 33.5086C134.137 33.5086 135.241 33.9008 136.057 34.6852C136.874 35.4695 137.287 36.5824 137.287 38.0239C137.287 39.3947 136.845 40.49 135.962 41.3096C135.084 42.1222 133.91 42.5286 132.44 42.5286C130.881 42.5286 129.683 42.1575 128.844 41.3944C128.01 40.6383 127.593 39.5608 127.593 38.1617ZM129.651 38.0345C129.651 39.2109 129.905 40.1438 130.393 40.8009C130.892 41.4687 131.57 41.8078 132.44 41.8078C133.31 41.8078 133.968 41.4687 134.466 40.8009C134.961 40.1296 135.209 39.2039 135.209 38.0239C135.209 36.8473 134.954 35.9041 134.466 35.2258C133.971 34.5545 133.296 34.2188 132.44 34.2188C131.581 34.2188 130.892 34.558 130.393 35.2363C129.898 35.9146 129.651 36.8473 129.651 38.0345ZM82.236 36.1797V42.3059H81.3344V35.5649C81.3344 34.7064 81.2813 33.7525 81.2813 33.7525H82.5966L87.932 39.5078V33.7525H88.8336V42.3059H88.5897C88.0805 42.3059 87.4759 41.7972 86.9243 41.2354L82.236 36.1797ZM63.3021 41.9032L63.6202 40.9386C63.6202 40.9386 64.0233 41.3308 64.4264 41.4792C64.9356 41.67 65.2007 41.6912 65.678 41.6912C66.113 41.6912 66.5584 41.5323 66.813 41.299C67.0783 41.0553 67.1737 40.8326 67.1737 40.4405C67.1737 40.165 67.0995 39.9211 66.9298 39.7198C66.76 39.5149 66.3534 39.2393 65.7099 38.893C64.7128 38.363 64.0657 37.9073 63.7687 37.5258C63.4717 37.1442 63.3233 36.6707 63.3233 36.1054C63.3233 35.3282 63.599 34.7028 64.1506 34.2293C64.7022 33.7489 65.4306 33.5086 66.3357 33.5086C66.7282 33.5086 67.0676 33.551 67.4071 33.6677C67.9162 33.8372 68.3829 34.1234 68.3829 34.1234L68.1177 35.0667C68.1177 35.0667 67.6086 34.3248 66.1872 34.3353C65.8053 34.3353 65.4234 34.452 65.1902 34.6534C64.9674 34.8654 64.8507 35.1303 64.8507 35.4695C64.8507 35.745 64.9356 35.9253 65.1053 36.1266C65.275 36.3174 65.6463 36.5718 66.2403 36.8792C66.3675 36.9498 66.5549 37.0417 66.8025 37.1548C67.4919 37.4939 67.9268 37.7589 68.1177 37.9497C68.3404 38.1829 68.5102 38.4478 68.6269 38.7234C68.733 39.0061 68.786 39.3241 68.786 39.6774C68.786 40.5359 68.4996 41.2248 67.9162 41.7442C67.3328 42.2742 66.5054 42.5391 65.5295 42.5391C64.9461 42.5391 64.5749 42.4226 64.2037 42.3271C63.8218 42.2211 63.2914 41.9032 63.2914 41.9032H63.3021ZM117.76 42.3059V35.5331C117.76 34.6322 117.674 33.7525 117.674 33.7525H121.483C122.873 33.7525 123.626 34.8335 123.626 36.2114C123.626 37.5894 122.873 38.6281 121.483 38.6281H119.764V42.2954L117.76 42.3059ZM119.764 34.4732V37.9603C119.764 37.9603 120.411 37.9921 120.931 37.8967C121.44 37.8013 121.801 37.017 121.801 36.2221C121.801 35.2999 121.377 34.4625 120.697 34.4625C120.697 34.4732 119.764 34.4732 119.764 34.4732ZM148.605 42.2954H147.28C146.749 42.2954 146.442 41.9138 146.262 41.6595C146.112 41.4474 144.564 39.4124 143.97 38.6386V42.2954H141.966V35.5331C141.966 34.6322 141.891 33.7525 141.891 33.7525H145.699C147.078 33.7525 147.841 34.8335 147.841 36.2114C147.841 37.5258 147.141 38.5221 145.879 38.6174L148.605 42.2954ZM143.97 37.9603C143.97 37.9603 144.617 37.9921 145.137 37.8967C145.646 37.8013 146.007 37.017 146.007 36.2221C146.007 35.3105 145.582 34.4732 144.903 34.4732H143.97V37.9603ZM73.5593 33.7418H75.564V42.2954H73.5593V33.7418ZM113.474 42.2954H111.947C111.597 42.2954 111.289 42.0198 111.13 41.6171C110.939 41.1613 110.684 40.5147 110.398 39.8151H107.354L106.378 42.2954H105.466L108.849 33.7418H109.942C109.942 33.7418 112.869 41.0129 113.061 41.458C113.241 41.9032 113.474 42.2954 113.474 42.2954ZM107.683 38.9884H110.07C109.561 37.7589 109.073 36.54 108.86 36.0101L107.683 38.9884Z" fill="#CF2227"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M92.4401 13.1371V24.8597H90.7005V11.9817C90.7005 10.3283 90.6051 8.50523 90.6051 8.50523H93.1402L103.323 19.5072V8.50523H105.073V24.8597H104.585C103.61 24.8597 102.464 23.8846 101.414 22.8247M74.0366 19.3376C74.0366 25.3474 72.5197 25.1989 65.6992 25.2201C59.2289 25.2519 55.3042 21.7012 55.3042 15.9988C55.3042 15.702 55.3254 15.4053 55.3466 15.1191C55.6118 9.63935 59.441 7.31813 63.1324 6.59738C63.7263 6.4596 64.3415 6.37481 64.9461 6.34301C65.1795 6.32181 65.328 6.32181 65.5507 6.32181H65.6675C65.8902 6.31121 66.1342 6.30061 66.4311 6.30061C70.7589 6.30061 73.6335 7.82689 73.6335 7.82689L73.3259 9.74534C72.6152 9.18358 69.6452 8.04948 66.0494 8.04948C61.2231 8.28265 59.8759 11.102 59.5577 14.9284C59.5365 15.2145 59.5259 15.5112 59.5259 15.808C59.5259 20.7367 62.1671 23.4606 65.6992 23.4606C69.6664 23.4606 69.7407 23.1215 69.7407 18.9772V17.0164C69.7407 16.603 69.4224 16.3062 68.3829 16.3062H65.7523V14.5149L74.0366 14.5256V19.3376ZM166.033 19.6661C166.033 25.3472 164.591 25.2095 158.141 25.2307C152.011 25.2519 148.298 21.9025 148.298 16.497C148.298 16.2144 148.312 15.9388 148.34 15.6703C148.594 10.4767 152.212 8.28265 155.712 7.5937C156.275 7.46652 156.858 7.38172 157.43 7.34993C157.642 7.33933 157.781 7.32873 158.004 7.32873H158.11C158.322 7.31813 158.555 7.31813 158.831 7.31813C162.925 7.31813 165.652 8.75961 165.652 8.75961L165.355 10.5721C164.686 10.0421 161.876 8.96099 158.47 8.96099C153.909 9.19418 152.625 11.8652 152.329 15.4795C152.308 15.748 152.3 16.0271 152.308 16.3169C152.308 20.9805 154.79 23.5561 158.152 23.5561C161.896 23.5561 161.97 23.2381 161.97 19.3164C161.97 19.2422 161.96 17.5251 161.96 17.4615C161.96 17.0588 161.673 16.7832 160.676 16.7832H158.194V15.0873L166.044 15.0979C166.033 15.0979 166.033 19.327 166.033 19.6661ZM107.81 8.49463H120.793V10.0951H116.221V24.8597H112.381V10.0845H107.81V8.49463ZM123.562 8.49463H127.402V24.8492H123.562V8.49463ZM77.5794 8.49463H86.9774V10.0845H81.5359V15.4583H86.9774V17.0481H81.5359V22.4961H81.5465C81.5465 22.8353 81.5147 23.2699 81.9602 23.2699H86.9774V24.8597H79.1175C77.7067 24.8597 77.696 23.8105 77.696 22.4855V11.8864C77.6855 10.1057 77.5794 8.49463 77.5794 8.49463ZM133.172 13.1371V24.8597H131.433V11.9817C131.433 10.3283 131.337 8.49463 131.337 8.49463H133.872L144.054 19.5072V8.49463H145.805V24.8597H145.317C144.341 24.8597 143.196 23.8846 142.146 22.8247L133.172 13.1371ZM152.933 33.7418H157.855V34.5792H155.012V37.3774H157.855V38.2146H155.012V41.0658C155.012 41.2354 155.002 41.4687 155.224 41.4687H157.855V42.2954H153.739C152.997 42.2954 152.997 41.7548 152.997 41.0658V35.5225C152.997 34.5792 152.933 33.7418 152.933 33.7418ZM101.838 39.6668C101.838 42.4862 101.117 42.4119 97.9134 42.4226C94.8691 42.4438 93.0235 40.769 93.0235 38.0875C93.0235 37.9497 93.0341 37.8119 93.0447 37.6742C93.172 35.0986 94.9647 34.0068 96.7042 33.6677C96.9906 33.5934 97.2771 33.5617 97.5634 33.5405C97.6695 33.5405 97.7332 33.5298 97.8498 33.5298C97.9453 33.5298 98.1256 33.5298 98.2529 33.5298C100.289 33.5298 101.647 34.24 101.647 34.24L101.499 35.141C101.17 34.8759 99.7698 34.346 98.0726 34.346C95.8026 34.452 95.1768 35.7874 95.0177 37.5787C95.0071 37.7166 95.0071 37.8543 95.0071 37.9921C95.0071 40.3133 96.2482 41.5959 97.9134 41.5959C99.7803 41.5959 99.8122 41.4368 99.8122 39.4866V38.5645C99.8122 38.363 99.6742 38.2253 99.1757 38.2253H97.9453V37.3879H101.838C101.838 37.3879 101.838 39.4972 101.838 39.6668ZM127.593 38.1617C127.593 36.7096 128.038 35.5755 128.919 34.7488C129.802 33.922 131.023 33.5086 132.578 33.5086C134.137 33.5086 135.241 33.9008 136.057 34.6852C136.874 35.4695 137.287 36.5824 137.287 38.0239C137.287 39.3947 136.845 40.49 135.962 41.3096C135.084 42.1222 133.91 42.5286 132.44 42.5286C130.881 42.5286 129.683 42.1575 128.844 41.3944C128.01 40.6383 127.593 39.5608 127.593 38.1617ZM129.651 38.0345C129.651 39.2109 129.905 40.1438 130.393 40.8009C130.892 41.4687 131.57 41.8078 132.44 41.8078C133.31 41.8078 133.968 41.4687 134.466 40.8009C134.961 40.1296 135.209 39.2039 135.209 38.0239C135.209 36.8473 134.954 35.9041 134.466 35.2258C133.971 34.5545 133.296 34.2188 132.44 34.2188C131.581 34.2188 130.892 34.558 130.393 35.2363C129.898 35.9146 129.651 36.8473 129.651 38.0345ZM82.236 36.1797V42.3059H81.3344V35.5649C81.3344 34.7064 81.2813 33.7525 81.2813 33.7525H82.5966L87.932 39.5078V33.7525H88.8336V42.3059H88.5897C88.0805 42.3059 87.4759 41.7972 86.9243 41.2354L82.236 36.1797ZM63.3021 41.9032L63.6202 40.9386C63.6202 40.9386 64.0233 41.3308 64.4264 41.4792C64.9356 41.67 65.2007 41.6912 65.678 41.6912C66.113 41.6912 66.5584 41.5323 66.813 41.299C67.0783 41.0553 67.1737 40.8326 67.1737 40.4405C67.1737 40.165 67.0995 39.9211 66.9298 39.7198C66.76 39.5149 66.3534 39.2393 65.7099 38.893C64.7128 38.363 64.0657 37.9073 63.7687 37.5258C63.4717 37.1442 63.3233 36.6707 63.3233 36.1054C63.3233 35.3282 63.599 34.7028 64.1506 34.2293C64.7022 33.7489 65.4306 33.5086 66.3357 33.5086C66.7282 33.5086 67.0676 33.551 67.4071 33.6677C67.9162 33.8372 68.3829 34.1234 68.3829 34.1234L68.1177 35.0667C68.1177 35.0667 67.6086 34.3248 66.1872 34.3353C65.8053 34.3353 65.4234 34.452 65.1902 34.6534C64.9674 34.8654 64.8507 35.1303 64.8507 35.4695C64.8507 35.745 64.9356 35.9253 65.1053 36.1266C65.275 36.3174 65.6463 36.5718 66.2403 36.8792C66.3675 36.9498 66.5549 37.0417 66.8025 37.1548C67.4919 37.4939 67.9268 37.7589 68.1177 37.9497C68.3404 38.1829 68.5102 38.4478 68.6269 38.7234C68.733 39.0061 68.786 39.3241 68.786 39.6774C68.786 40.5359 68.4996 41.2248 67.9162 41.7442C67.3328 42.2742 66.5054 42.5391 65.5295 42.5391C64.9461 42.5391 64.5749 42.4226 64.2037 42.3271C63.8218 42.2211 63.2914 41.9032 63.2914 41.9032H63.3021ZM117.76 42.3059V35.5331C117.76 34.6322 117.674 33.7525 117.674 33.7525H121.483C122.873 33.7525 123.626 34.8335 123.626 36.2114C123.626 37.5894 122.873 38.6281 121.483 38.6281H119.764V42.2954L117.76 42.3059ZM119.764 34.4732V37.9603C119.764 37.9603 120.411 37.9921 120.931 37.8967C121.44 37.8013 121.801 37.017 121.801 36.2221C121.801 35.2999 121.377 34.4625 120.697 34.4625C120.697 34.4732 119.764 34.4732 119.764 34.4732ZM148.605 42.2954H147.28C146.749 42.2954 146.442 41.9138 146.262 41.6595C146.112 41.4474 144.564 39.4124 143.97 38.6386V42.2954H141.966V35.5331C141.966 34.6322 141.891 33.7525 141.891 33.7525H145.699C147.078 33.7525 147.841 34.8335 147.841 36.2114C147.841 37.5258 147.141 38.5221 145.879 38.6174L148.605 42.2954ZM143.97 37.9603C143.97 37.9603 144.617 37.9921 145.137 37.8967C145.646 37.8013 146.007 37.017 146.007 36.2221C146.007 35.3105 145.582 34.4732 144.903 34.4732H143.97V37.9603ZM73.5593 33.7418H75.564V42.2954H73.5593V33.7418ZM113.474 42.2954H111.947C111.597 42.2954 111.289 42.0198 111.13 41.6171C110.939 41.1613 110.684 40.5147 110.398 39.8151H107.354L106.378 42.2954H105.466L108.849 33.7418H109.942C109.942 33.7418 112.869 41.0129 113.061 41.458C113.241 41.9032 113.474 42.2954 113.474 42.2954ZM107.683 38.9884H110.07C109.561 37.7589 109.073 36.54 108.86 36.0101L107.683 38.9884Z" fill="#CF2227"/>
          <mask id="mask0_62_843" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="55" y="32" width="112" height="18">
          <path d="M166.043 32.9565H55.2607V50H166.043V32.9565Z" fill="white"/>
          </mask>
          <g mask="url(#mask0_62_843)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M92.4401 13.1371V24.8597H90.7005V11.9817C90.7005 10.3283 90.6051 8.50523 90.6051 8.50523H93.1402L103.323 19.5072V8.50523H105.073V24.8597H104.585C103.61 24.8597 102.464 23.8846 101.414 22.8247M74.0366 19.3376C74.0366 25.3474 72.5197 25.1989 65.6992 25.2201C59.2289 25.2519 55.3042 21.7012 55.3042 15.9988C55.3042 15.702 55.3254 15.4053 55.3466 15.1191C55.6118 9.63935 59.441 7.31813 63.1324 6.59738C63.7263 6.4596 64.3415 6.37481 64.9461 6.34301C65.1795 6.32181 65.328 6.32181 65.5507 6.32181H65.6675C65.8902 6.31121 66.1342 6.30061 66.4311 6.30061C70.7589 6.30061 73.6335 7.82689 73.6335 7.82689L73.3259 9.74534C72.6152 9.18358 69.6452 8.04948 66.0494 8.04948C61.2231 8.28265 59.8759 11.102 59.5577 14.9284C59.5365 15.2145 59.5259 15.5112 59.5259 15.808C59.5259 20.7367 62.1671 23.4606 65.6992 23.4606C69.6664 23.4606 69.7407 23.1215 69.7407 18.9772V17.0164C69.7407 16.603 69.4224 16.3062 68.3829 16.3062H65.7523V14.5149L74.0366 14.5256V19.3376ZM166.033 19.6661C166.033 25.3472 164.591 25.2095 158.141 25.2307C152.011 25.2519 148.298 21.9025 148.298 16.497C148.298 16.2144 148.312 15.9388 148.34 15.6703C148.594 10.4767 152.212 8.28265 155.712 7.5937C156.275 7.46652 156.858 7.38172 157.43 7.34993C157.642 7.33933 157.781 7.32873 158.004 7.32873H158.11C158.322 7.31813 158.555 7.31813 158.831 7.31813C162.925 7.31813 165.652 8.75961 165.652 8.75961L165.355 10.5721C164.686 10.0421 161.876 8.96099 158.47 8.96099C153.909 9.19418 152.625 11.8652 152.329 15.4795C152.308 15.748 152.3 16.0271 152.308 16.3169C152.308 20.9805 154.79 23.5561 158.152 23.5561C161.896 23.5561 161.97 23.2381 161.97 19.3164C161.97 19.2422 161.96 17.5251 161.96 17.4615C161.96 17.0588 161.673 16.7832 160.676 16.7832H158.194V15.0873L166.044 15.0979C166.033 15.0979 166.033 19.327 166.033 19.6661ZM107.81 8.49463H120.793V10.0951H116.221V24.8597H112.381V10.0845H107.81V8.49463ZM123.562 8.49463H127.402V24.8492H123.562V8.49463ZM77.5794 8.49463H86.9774V10.0845H81.5359V15.4583H86.9774V17.0481H81.5359V22.4961H81.5465C81.5465 22.8353 81.5147 23.2699 81.9602 23.2699H86.9774V24.8597H79.1175C77.7067 24.8597 77.696 23.8105 77.696 22.4855V11.8864C77.6855 10.1057 77.5794 8.49463 77.5794 8.49463ZM133.172 13.1371V24.8597H131.433V11.9817C131.433 10.3283 131.337 8.49463 131.337 8.49463H133.872L144.054 19.5072V8.49463H145.805V24.8597H145.317C144.341 24.8597 143.196 23.8846 142.146 22.8247L133.172 13.1371ZM152.933 33.7418H157.855V34.5792H155.012V37.3774H157.855V38.2146H155.012V41.0658C155.012 41.2354 155.002 41.4687 155.224 41.4687H157.855V42.2954H153.739C152.997 42.2954 152.997 41.7548 152.997 41.0658V35.5225C152.997 34.5792 152.933 33.7418 152.933 33.7418ZM101.838 39.6668C101.838 42.4862 101.117 42.4119 97.9134 42.4226C94.8691 42.4438 93.0235 40.769 93.0235 38.0875C93.0235 37.9497 93.0341 37.8119 93.0447 37.6742C93.172 35.0986 94.9647 34.0068 96.7042 33.6677C96.9906 33.5934 97.2771 33.5617 97.5634 33.5405C97.6695 33.5405 97.7332 33.5298 97.8498 33.5298C97.9453 33.5298 98.1256 33.5298 98.2529 33.5298C100.289 33.5298 101.647 34.24 101.647 34.24L101.499 35.141C101.17 34.8759 99.7698 34.346 98.0726 34.346C95.8026 34.452 95.1768 35.7874 95.0177 37.5787C95.0071 37.7166 95.0071 37.8543 95.0071 37.9921C95.0071 40.3133 96.2482 41.5959 97.9134 41.5959C99.7803 41.5959 99.8122 41.4368 99.8122 39.4866V38.5645C99.8122 38.363 99.6742 38.2253 99.1757 38.2253H97.9453V37.3879H101.838C101.838 37.3879 101.838 39.4972 101.838 39.6668ZM127.593 38.1617C127.593 36.7096 128.038 35.5755 128.919 34.7488C129.802 33.922 131.023 33.5086 132.578 33.5086C134.137 33.5086 135.241 33.9008 136.057 34.6852C136.874 35.4695 137.287 36.5824 137.287 38.0239C137.287 39.3947 136.845 40.49 135.962 41.3096C135.084 42.1222 133.91 42.5286 132.44 42.5286C130.881 42.5286 129.683 42.1575 128.844 41.3944C128.01 40.6383 127.593 39.5608 127.593 38.1617ZM129.651 38.0345C129.651 39.2109 129.905 40.1438 130.393 40.8009C130.892 41.4687 131.57 41.8078 132.44 41.8078C133.31 41.8078 133.968 41.4687 134.466 40.8009C134.961 40.1296 135.209 39.2039 135.209 38.0239C135.209 36.8473 134.954 35.9041 134.466 35.2258C133.971 34.5545 133.296 34.2188 132.44 34.2188C131.581 34.2188 130.892 34.558 130.393 35.2363C129.898 35.9146 129.651 36.8473 129.651 38.0345ZM82.236 36.1797V42.3059H81.3344V35.5649C81.3344 34.7064 81.2813 33.7525 81.2813 33.7525H82.5966L87.932 39.5078V33.7525H88.8336V42.3059H88.5897C88.0805 42.3059 87.4759 41.7972 86.9243 41.2354L82.236 36.1797ZM63.3021 41.9032L63.6202 40.9386C63.6202 40.9386 64.0233 41.3308 64.4264 41.4792C64.9356 41.67 65.2007 41.6912 65.678 41.6912C66.113 41.6912 66.5584 41.5323 66.813 41.299C67.0783 41.0553 67.1737 40.8326 67.1737 40.4405C67.1737 40.165 67.0995 39.9211 66.9298 39.7198C66.76 39.5149 66.3534 39.2393 65.7099 38.893C64.7128 38.363 64.0657 37.9073 63.7687 37.5258C63.4717 37.1442 63.3233 36.6707 63.3233 36.1054C63.3233 35.3282 63.599 34.7028 64.1506 34.2293C64.7022 33.7489 65.4306 33.5086 66.3357 33.5086C66.7282 33.5086 67.0676 33.551 67.4071 33.6677C67.9162 33.8372 68.3829 34.1234 68.3829 34.1234L68.1177 35.0667C68.1177 35.0667 67.6086 34.3248 66.1872 34.3353C65.8053 34.3353 65.4234 34.452 65.1902 34.6534C64.9674 34.8654 64.8507 35.1303 64.8507 35.4695C64.8507 35.745 64.9356 35.9253 65.1053 36.1266C65.275 36.3174 65.6463 36.5718 66.2403 36.8792C66.3675 36.9498 66.5549 37.0417 66.8025 37.1548C67.4919 37.4939 67.9268 37.7589 68.1177 37.9497C68.3404 38.1829 68.5102 38.4478 68.6269 38.7234C68.733 39.0061 68.786 39.3241 68.786 39.6774C68.786 40.5359 68.4996 41.2248 67.9162 41.7442C67.3328 42.2742 66.5054 42.5391 65.5295 42.5391C64.9461 42.5391 64.5749 42.4226 64.2037 42.3271C63.8218 42.2211 63.2914 41.9032 63.2914 41.9032H63.3021ZM117.76 42.3059V35.5331C117.76 34.6322 117.674 33.7525 117.674 33.7525H121.483C122.873 33.7525 123.626 34.8335 123.626 36.2114C123.626 37.5894 122.873 38.6281 121.483 38.6281H119.764V42.2954L117.76 42.3059ZM119.764 34.4732V37.9603C119.764 37.9603 120.411 37.9921 120.931 37.8967C121.44 37.8013 121.801 37.017 121.801 36.2221C121.801 35.2999 121.377 34.4625 120.697 34.4625C120.697 34.4732 119.764 34.4732 119.764 34.4732ZM148.605 42.2954H147.28C146.749 42.2954 146.442 41.9138 146.262 41.6595C146.112 41.4474 144.564 39.4124 143.97 38.6386V42.2954H141.966V35.5331C141.966 34.6322 141.891 33.7525 141.891 33.7525H145.699C147.078 33.7525 147.841 34.8335 147.841 36.2114C147.841 37.5258 147.141 38.5221 145.879 38.6174L148.605 42.2954ZM143.97 37.9603C143.97 37.9603 144.617 37.9921 145.137 37.8967C145.646 37.8013 146.007 37.017 146.007 36.2221C146.007 35.3105 145.582 34.4732 144.903 34.4732H143.97V37.9603ZM73.5593 33.7418H75.564V42.2954H73.5593V33.7418ZM113.474 42.2954H111.947C111.597 42.2954 111.289 42.0198 111.13 41.6171C110.939 41.1613 110.684 40.5147 110.398 39.8151H107.354L106.378 42.2954H105.466L108.849 33.7418H109.942C109.942 33.7418 112.869 41.0129 113.061 41.458C113.241 41.9032 113.474 42.2954 113.474 42.2954ZM107.683 38.9884H110.07C109.561 37.7589 109.073 36.54 108.86 36.0101L107.683 38.9884Z" fill="black"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M92.4401 13.1371V24.8597H90.7005V11.9817C90.7005 10.3283 90.6051 8.50523 90.6051 8.50523H93.1402L103.323 19.5072V8.50523H105.073V24.8597H104.585C103.61 24.8597 102.464 23.8846 101.414 22.8247M74.0366 19.3376C74.0366 25.3474 72.5197 25.1989 65.6992 25.2201C59.2289 25.2519 55.3042 21.7012 55.3042 15.9988C55.3042 15.702 55.3254 15.4053 55.3466 15.1191C55.6118 9.63935 59.441 7.31813 63.1324 6.59738C63.7263 6.4596 64.3415 6.37481 64.9461 6.34301C65.1795 6.32181 65.328 6.32181 65.5507 6.32181H65.6675C65.8902 6.31121 66.1342 6.30061 66.4311 6.30061C70.7589 6.30061 73.6335 7.82689 73.6335 7.82689L73.3259 9.74534C72.6152 9.18358 69.6452 8.04948 66.0494 8.04948C61.2231 8.28265 59.8759 11.102 59.5577 14.9284C59.5365 15.2145 59.5259 15.5112 59.5259 15.808C59.5259 20.7367 62.1671 23.4606 65.6992 23.4606C69.6664 23.4606 69.7407 23.1215 69.7407 18.9772V17.0164C69.7407 16.603 69.4224 16.3062 68.3829 16.3062H65.7523V14.5149L74.0366 14.5256V19.3376ZM166.033 19.6661C166.033 25.3472 164.591 25.2095 158.141 25.2307C152.011 25.2519 148.298 21.9025 148.298 16.497C148.298 16.2144 148.312 15.9388 148.34 15.6703C148.594 10.4767 152.212 8.28265 155.712 7.5937C156.275 7.46652 156.858 7.38172 157.43 7.34993C157.642 7.33933 157.781 7.32873 158.004 7.32873H158.11C158.322 7.31813 158.555 7.31813 158.831 7.31813C162.925 7.31813 165.652 8.75961 165.652 8.75961L165.355 10.5721C164.686 10.0421 161.876 8.96099 158.47 8.96099C153.909 9.19418 152.625 11.8652 152.329 15.4795C152.308 15.748 152.3 16.0271 152.308 16.3169C152.308 20.9805 154.79 23.5561 158.152 23.5561C161.896 23.5561 161.97 23.2381 161.97 19.3164C161.97 19.2422 161.96 17.5251 161.96 17.4615C161.96 17.0588 161.673 16.7832 160.676 16.7832H158.194V15.0873L166.044 15.0979C166.033 15.0979 166.033 19.327 166.033 19.6661ZM107.81 8.49463H120.793V10.0951H116.221V24.8597H112.381V10.0845H107.81V8.49463ZM123.562 8.49463H127.402V24.8492H123.562V8.49463ZM77.5794 8.49463H86.9774V10.0845H81.5359V15.4583H86.9774V17.0481H81.5359V22.4961H81.5465C81.5465 22.8353 81.5147 23.2699 81.9602 23.2699H86.9774V24.8597H79.1175C77.7067 24.8597 77.696 23.8105 77.696 22.4855V11.8864C77.6855 10.1057 77.5794 8.49463 77.5794 8.49463ZM133.172 13.1371V24.8597H131.433V11.9817C131.433 10.3283 131.337 8.49463 131.337 8.49463H133.872L144.054 19.5072V8.49463H145.805V24.8597H145.317C144.341 24.8597 143.196 23.8846 142.146 22.8247L133.172 13.1371ZM152.933 33.7418H157.855V34.5792H155.012V37.3774H157.855V38.2146H155.012V41.0658C155.012 41.2354 155.002 41.4687 155.224 41.4687H157.855V42.2954H153.739C152.997 42.2954 152.997 41.7548 152.997 41.0658V35.5225C152.997 34.5792 152.933 33.7418 152.933 33.7418ZM101.838 39.6668C101.838 42.4862 101.117 42.4119 97.9134 42.4226C94.8691 42.4438 93.0235 40.769 93.0235 38.0875C93.0235 37.9497 93.0341 37.8119 93.0447 37.6742C93.172 35.0986 94.9647 34.0068 96.7042 33.6677C96.9906 33.5934 97.2771 33.5617 97.5634 33.5405C97.6695 33.5405 97.7332 33.5298 97.8498 33.5298C97.9453 33.5298 98.1256 33.5298 98.2529 33.5298C100.289 33.5298 101.647 34.24 101.647 34.24L101.499 35.141C101.17 34.8759 99.7698 34.346 98.0726 34.346C95.8026 34.452 95.1768 35.7874 95.0177 37.5787C95.0071 37.7166 95.0071 37.8543 95.0071 37.9921C95.0071 40.3133 96.2482 41.5959 97.9134 41.5959C99.7803 41.5959 99.8122 41.4368 99.8122 39.4866V38.5645C99.8122 38.363 99.6742 38.2253 99.1757 38.2253H97.9453V37.3879H101.838C101.838 37.3879 101.838 39.4972 101.838 39.6668ZM127.593 38.1617C127.593 36.7096 128.038 35.5755 128.919 34.7488C129.802 33.922 131.023 33.5086 132.578 33.5086C134.137 33.5086 135.241 33.9008 136.057 34.6852C136.874 35.4695 137.287 36.5824 137.287 38.0239C137.287 39.3947 136.845 40.49 135.962 41.3096C135.084 42.1222 133.91 42.5286 132.44 42.5286C130.881 42.5286 129.683 42.1575 128.844 41.3944C128.01 40.6383 127.593 39.5608 127.593 38.1617ZM129.651 38.0345C129.651 39.2109 129.905 40.1438 130.393 40.8009C130.892 41.4687 131.57 41.8078 132.44 41.8078C133.31 41.8078 133.968 41.4687 134.466 40.8009C134.961 40.1296 135.209 39.2039 135.209 38.0239C135.209 36.8473 134.954 35.9041 134.466 35.2258C133.971 34.5545 133.296 34.2188 132.44 34.2188C131.581 34.2188 130.892 34.558 130.393 35.2363C129.898 35.9146 129.651 36.8473 129.651 38.0345ZM82.236 36.1797V42.3059H81.3344V35.5649C81.3344 34.7064 81.2813 33.7525 81.2813 33.7525H82.5966L87.932 39.5078V33.7525H88.8336V42.3059H88.5897C88.0805 42.3059 87.4759 41.7972 86.9243 41.2354L82.236 36.1797ZM63.3021 41.9032L63.6202 40.9386C63.6202 40.9386 64.0233 41.3308 64.4264 41.4792C64.9356 41.67 65.2007 41.6912 65.678 41.6912C66.113 41.6912 66.5584 41.5323 66.813 41.299C67.0783 41.0553 67.1737 40.8326 67.1737 40.4405C67.1737 40.165 67.0995 39.9211 66.9298 39.7198C66.76 39.5149 66.3534 39.2393 65.7099 38.893C64.7128 38.363 64.0657 37.9073 63.7687 37.5258C63.4717 37.1442 63.3233 36.6707 63.3233 36.1054C63.3233 35.3282 63.599 34.7028 64.1506 34.2293C64.7022 33.7489 65.4306 33.5086 66.3357 33.5086C66.7282 33.5086 67.0676 33.551 67.4071 33.6677C67.9162 33.8372 68.3829 34.1234 68.3829 34.1234L68.1177 35.0667C68.1177 35.0667 67.6086 34.3248 66.1872 34.3353C65.8053 34.3353 65.4234 34.452 65.1902 34.6534C64.9674 34.8654 64.8507 35.1303 64.8507 35.4695C64.8507 35.745 64.9356 35.9253 65.1053 36.1266C65.275 36.3174 65.6463 36.5718 66.2403 36.8792C66.3675 36.9498 66.5549 37.0417 66.8025 37.1548C67.4919 37.4939 67.9268 37.7589 68.1177 37.9497C68.3404 38.1829 68.5102 38.4478 68.6269 38.7234C68.733 39.0061 68.786 39.3241 68.786 39.6774C68.786 40.5359 68.4996 41.2248 67.9162 41.7442C67.3328 42.2742 66.5054 42.5391 65.5295 42.5391C64.9461 42.5391 64.5749 42.4226 64.2037 42.3271C63.8218 42.2211 63.2914 41.9032 63.2914 41.9032H63.3021ZM117.76 42.3059V35.5331C117.76 34.6322 117.674 33.7525 117.674 33.7525H121.483C122.873 33.7525 123.626 34.8335 123.626 36.2114C123.626 37.5894 122.873 38.6281 121.483 38.6281H119.764V42.2954L117.76 42.3059ZM119.764 34.4732V37.9603C119.764 37.9603 120.411 37.9921 120.931 37.8967C121.44 37.8013 121.801 37.017 121.801 36.2221C121.801 35.2999 121.377 34.4625 120.697 34.4625C120.697 34.4732 119.764 34.4732 119.764 34.4732ZM148.605 42.2954H147.28C146.749 42.2954 146.442 41.9138 146.262 41.6595C146.112 41.4474 144.564 39.4124 143.97 38.6386V42.2954H141.966V35.5331C141.966 34.6322 141.891 33.7525 141.891 33.7525H145.699C147.078 33.7525 147.841 34.8335 147.841 36.2114C147.841 37.5258 147.141 38.5221 145.879 38.6174L148.605 42.2954ZM143.97 37.9603C143.97 37.9603 144.617 37.9921 145.137 37.8967C145.646 37.8013 146.007 37.017 146.007 36.2221C146.007 35.3105 145.582 34.4732 144.903 34.4732H143.97V37.9603ZM73.5593 33.7418H75.564V42.2954H73.5593V33.7418ZM113.474 42.2954H111.947C111.597 42.2954 111.289 42.0198 111.13 41.6171C110.939 41.1613 110.684 40.5147 110.398 39.8151H107.354L106.378 42.2954H105.466L108.849 33.7418H109.942C109.942 33.7418 112.869 41.0129 113.061 41.458C113.241 41.9032 113.474 42.2954 113.474 42.2954ZM107.683 38.9884H110.07C109.561 37.7589 109.073 36.54 108.86 36.0101L107.683 38.9884Z" fill="black"/>
          </g>
          </g>
          <defs>
          <clipPath id="clip0_62_843">
          <rect width="168" height="50" fill="white"/>
          </clipPath>
          </defs>
      </svg>
  `;

  // Create description
  const description = document.createElement('p');
  description.className = 'login-description';
  description.textContent = descriptionText;

  // Create form
  const form = document.createElement('form');
  form.className = 'login-form';
  form.setAttribute('novalidate', '');

  // Create username field
  const usernameGroup = document.createElement('div');
  usernameGroup.className = 'form-group';

  const usernameLabel = document.createElement('label');
  usernameLabel.className = 'form-label';
  usernameLabel.setAttribute('for', 'username');
  usernameLabel.textContent = 'Username';

  const usernameInput = document.createElement('input');
  usernameInput.type = 'text';
  usernameInput.id = 'username';
  usernameInput.name = 'username';
  usernameInput.className = 'form-input';
  usernameInput.setAttribute('required', '');
  usernameInput.setAttribute('aria-describedby', 'username-error');
  usernameInput.setAttribute('autocomplete', 'username');

  const usernameError = document.createElement('div');
  usernameError.id = 'username-error';
  usernameError.className = 'form-error';
  usernameError.setAttribute('role', 'alert');
  usernameError.setAttribute('aria-live', 'polite');

  usernameGroup.appendChild(usernameLabel);
  usernameGroup.appendChild(usernameInput);
  usernameGroup.appendChild(usernameError);

  // Create password field
  const passwordGroup = document.createElement('div');
  passwordGroup.className = 'form-group';

  const passwordLabel = document.createElement('label');
  passwordLabel.className = 'form-label';
  passwordLabel.setAttribute('for', 'password');
  passwordLabel.textContent = 'Password';

  const passwordInput = document.createElement('input');
  passwordInput.type = 'password';
  passwordInput.id = 'password';
  passwordInput.name = 'password';
  passwordInput.className = 'form-input';
  passwordInput.setAttribute('required', '');
  passwordInput.setAttribute('aria-describedby', 'password-error');
  passwordInput.setAttribute('autocomplete', 'current-password');

  const passwordError = document.createElement('div');
  passwordError.id = 'password-error';
  passwordError.className = 'form-error';
  passwordError.setAttribute('role', 'alert');
  passwordError.setAttribute('aria-live', 'polite');

  passwordGroup.appendChild(passwordLabel);
  passwordGroup.appendChild(passwordInput);
  passwordGroup.appendChild(passwordError);

  // Create submit button
  const submitButton = document.createElement('button');
  submitButton.type = 'submit';
  submitButton.className = 'login-button';
  submitButton.textContent = 'Submit';

  // Create general error message
  const generalError = document.createElement('div');
  generalError.className = 'form-error general-error';
  generalError.setAttribute('role', 'alert');
  generalError.setAttribute('aria-live', 'polite');

  // Assemble form
  form.appendChild(usernameGroup);
  form.appendChild(passwordGroup);
  form.appendChild(submitButton);
  form.appendChild(generalError);

  // Assemble login container
  loginContainer.appendChild(title);
  loginContainer.appendChild(description);
  loginContainer.appendChild(form);

  // Assemble layout
  col.appendChild(loginContainer);
  row.appendChild(col);
  container.appendChild(row);

  // Validation functions
  function clearErrors() {
    usernameError.textContent = '';
    passwordError.textContent = '';
    generalError.textContent = '';
    usernameInput.classList.remove('error');
    passwordInput.classList.remove('error');
  }

  function showError(element, errorElement, message) {
    element.classList.add('error');
    errorElement.textContent = message;
  }

  function validateForm() {
    clearErrors();
    let isValid = true;

    // Validate username
    if (!usernameInput.value.trim()) {
      showError(usernameInput, usernameError, 'Username is required');
      isValid = false;
    }

    // Validate password
    if (!passwordInput.value.trim()) {
      showError(passwordInput, passwordError, 'Password is required');
      isValid = false;
    }

    return isValid;
  }

  function authenticateUser(username, password) {
    // Check credentials
    if ((username === 'gens-user' && password === '246810') || (username === 'adobe-user' && password === '13579')) {
      return true;
    }
    return false;
  }

  // Form submission handler
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    
    if (!validateForm()) {
      return;
    }

    const username = usernameInput.value.trim();
    const password = passwordInput.value.trim();

    if (authenticateUser(username, password)) {
      // Set authentication in sessionStorage
      setAuthenticated(true);
      
      // Show header and footer before redirect
      showHeaderFooter();
      
      // Get redirect URL (referrer or fallback)
      const redirectUrl = getRedirectUrl();
      
      // Success - redirect to referrer or fallback
      window.location.href = redirectUrl;
    } else {
      // Show error message
      generalError.textContent = 'Invalid credentials. Please try again.';
      usernameInput.classList.add('error');
      passwordInput.classList.add('error');
      
      // Focus on username field for retry
      usernameInput.focus();
    }
  });

  // Clear errors on input
  usernameInput.addEventListener('input', () => {
    if (usernameInput.classList.contains('error')) {
      usernameInput.classList.remove('error');
      usernameError.textContent = '';
      generalError.textContent = '';
    }
  });

  passwordInput.addEventListener('input', () => {
    if (passwordInput.classList.contains('error')) {
      passwordInput.classList.remove('error');
      passwordError.textContent = '';
      generalError.textContent = '';
    }
  });

  // Replace original content
  wrapper.innerHTML = '';
  wrapper.appendChild(container);

  // Focus on username field when form loads
  setTimeout(() => {
    usernameInput.focus();
  }, 100);
} 